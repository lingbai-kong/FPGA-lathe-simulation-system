 module appvga(
    input rst,
    input [9:0] x,
    input [9:0] y,
    output reg [3:0] r,
    output reg [3:0] g,
    output reg [3:0] b,
    input [9:0] knief_x,
    input [9:0] knief_y,
    input knief_kind,
    input machine_en,
    input usb_en,
    input sound_en,
    input state,
    input [0:399] obj1,
    input [0:399] obj2,
    input [0:399] obj3,
    input [0:399] obj4,
    input [0:399] obj5,
    input [0:399] obj6,
    input [0:399] obj7,
    input [0:399] obj8,
    input [0:399] obj9,
    input [0:399] obj10,
    input [0:399] obj11,
    input [0:399] obj12,
    input [0:399] obj13,
    input [0:399] obj14,
    input [0:399] obj15,
    input [0:399] obj16,
    input [0:399] obj17,
    input [0:399] obj18,
    input [0:399] obj19,
    input [0:399] obj20,
    input [0:399] obj21,
    input [0:399] obj22,
    input [0:399] obj23,
    input [0:399] obj24,
    input [0:399] obj25,
    input [0:399] obj26,
    input [0:399] obj27,
    input [0:399] obj28,
    input [0:399] obj29,
    input [0:399] obj30,
    input [0:399] obj31,
    input [0:399] obj32,
    input [0:399] obj33,
    input [0:399] obj34,
    input [0:399] obj35,
    input [0:399] obj36,
    input [0:399] obj37,
    input [0:399] obj38,
    input [0:399] obj39,
    input [0:399] obj40,
    input [0:399] obj41,
    input [0:399] obj42,
    input [0:399] obj43,
    input [0:399] obj44,
    input [0:399] obj45,
    input [0:399] obj46,
    input [0:399] obj47,
    input [0:399] obj48,
    input [0:399] obj49,
    input [0:399] obj50,
    input [0:399] obj51,
    input [0:399] obj52,
    input [0:399] obj53,
    input [0:399] obj54,
    input [0:399] obj55,
    input [0:399] obj56,
    input [0:399] obj57,
    input [0:399] obj58,
    input [0:399] obj59,
    input [0:399] obj60,
    input [0:399] obj61,
    input [0:399] obj62,
    input [0:399] obj63,
    input [0:399] obj64,
    input [0:399] obj65,
    input [0:399] obj66,
    input [0:399] obj67,
    input [0:399] obj68,
    input [0:399] obj69,
    input [0:399] obj70
);
    always@(*)
    begin
    if(rst)
    begin
        r<=4'b0000;
        g<=4'b0000;
        b<=4'b0000;
    end
    else
    begin
        if((machine_en)&&(y>=100)&&(y<=380)&&(x>=0)&&(x<=20))
        begin
        r<=4'b0000;
        g<=4'b1111;
        b<=4'b0100;
        end
        else if((!machine_en)&&(y>=100)&&(y<=380)&&(x>=0)&&(x<=20))
        begin
        r<=4'b1111;
        g<=4'b0000;
        b<=4'b0000;
        end
//--------------------------------------------------------------------------------------------
        else if(
        (((y>=x-490)&&(y>=560-x)&&(y<=45)&&(y>=35))||((y>=45)&&(y<=52)&&(y+470<=x)&&(x<=535))||(y>=52&&y<=55&&x>=522&&x<=535))//45
        ||((y>=35&&y<=50&&x>=607&&x<=625)||(y>50&&y<=55&&x>=611&&x<=625))//90
        )
        begin
        r<=4'b0000;
        g<=4'b0000;
        b<=4'b1111;        
        end
        else if(~usb_en&&
         ( (((y>=x-535)&&(y>=605-x)&&(y<=45)&&(y>=35))||(y>=49&&y<=51&&x>=563&&x<=577))//up
        ||(((y>=605-x)&&(y<=x-425)&&(x>=515)&&(x<=525))||(y>=83&&y<=97&&x>=529&&x<=531))//left
        ||(((y-80<=x-570+20)&&(y-80<=20-(x-570))&&(y>=90)&&(y<=100)&&(x>=560)&&(x<=580))||(y>=84&&y<=86&&x>=563&&x<=577))//down
        ||(((y-80>=x-615)&&(y-80<=20-(x-615))&&(x>=615)&&(x<=625))||(y>=83&&y<=97&&x>=609&&x<=611))//right
        )
        ||(((y-125>=570-x)&&(y-125<=x-570+20)&&(x>=560&&x<=570))||(x>=572&&x<=574&&y>=125&&y<=145)||(x>=576&&x<=578&&y>=125&&y<=145))//autoleft
        ||(((y>=x-490)&&(y>=740-x)&&(x>=605&&x<=625)&&(y>=125&&y<=135))||(x>=605&&x<=625&&y>=137&&y<=139)||(x>=605&&x<=625&&y>=141&&y<=143))//autoup
        //||((x==514&&y>=134&&y<=138)||(x==515&&(y==133||y==136))||(x==516&&(y==132||y==136))||(x==517&&(y==133||y==136))||(x==518&&y>=134&&y<=138)||(x==520&&y>=132&&y<=137)||(x==521&&y==138)||(x==522&&y==138)||(x==523&&y==138)||(x==524&&y>=132&&y<=137)||(x==526&&y==132)||(x==527&&y==132)||(x==528&&y>=132&&y<=138)||(x==529&&y==132)||(x==530&&y==132)||(x==532&&y>=133&&y<=137)||(x==533&&(y==132||y==138))||(x==534&&(y==132||y==138))||(x==535&&(y==132||y==138))||(x==536&&y>=133&&y<=137))    
        )
        begin
        r<=4'b1111;
        g<=4'b1111;
        b<=4'b1111;     
        end
        else if(usb_en&&(
        (((y>=x-535)&&(y>=605-x)&&(y<=45)&&(y>=35))||(y>=49&&y<=51&&x>=563&&x<=577))//up
        ||(((y>=605-x)&&(y<=x-425)&&(x>=515)&&(x<=525))||(y>=83&&y<=97&&x>=529&&x<=531))//left
        ||(((y-80<=x-570+20)&&(y-80<=20-(x-570))&&(y>=90)&&(y<=100)&&(x>=560)&&(x<=580))||(y>=84&&y<=86&&x>=563&&x<=577))//down
        ||(((y-80>=x-615)&&(y-80<=20-(x-615))&&(x>=615)&&(x<=625))||(y>=83&&y<=97&&x>=609&&x<=611))//right 
        ))
        begin
        r<=4'b0110;
        g<=4'b1111;
        b<=4'b0000;     
        end        
        else if((y>=115&&y<=135&&x>=505&&x<=525)||(y>=135&&y<=155&&x>=525&&x<=545))
        begin
        r<=4'b1111;
        g<=4'b1000;
        b<=4'b0000;       
        end
                
        else if((y>=25&&y<=65&&x>=505&&x<=545)//45
        ||(y>=25&&y<=65&&x>=595&&x<=635)//90
        )
        begin
            r<=4'b0100;
            g<=4'b1100;
            b<=4'b0100;
        end        
        else if(
        (y>=160&&y<=200&&x>=505&&x<=545)//start
        ||(y>=160&&y<=200&&x>=550&&x<=590)//rst
        ||(~sound_en&&(y>=160&&y<=200&&x>=595&&x<=635))//stop
        )
        begin
            r<=4'b1111;
            g<=4'b1000;
            b<=4'b0000;
        end
        else if(sound_en&&(y>=160&&y<=200&&x>=595&&x<=635))//stop_sound
        begin
            r<=4'b1100;
            g<=4'b0000;
            b<=4'b0000;        
        end
        else if(machine_en&&!state&&y>=25&&y<=65&&x>=550&&x<=590)//up
        begin
        r<=4'b0100;
        g<=4'b1100;
        b<=4'b0100;
        end
        else if(y>=25&&y<=65&&x>=550&&x<=590)
        begin
        r<=4'b0111;
        g<=4'b0011;
        b<=4'b0010;        
        end
        
        else if(machine_en&&!state&&y>=70&&y<=110&&x>=505&&x<=545)//left
        begin
        r<=4'b0100;
        g<=4'b1100;
        b<=4'b0100;
        end
        else if(y>=70&&y<=110&&x>=505&&x<=545)
        begin
        r<=4'b0111;
        g<=4'b0011;
        b<=4'b0010;        
        end
        
        else if(machine_en&&!state&&y>=70&&y<=110&&x>=550&&x<=590)//down
        begin
        r<=4'b0100;
        g<=4'b1100;
        b<=4'b0100;
        end
        else if(y>=70&&y<=110&&x>=550&&x<=590)
        begin
        r<=4'b0111;
        g<=4'b0011;
        b<=4'b0010;        
        end   
        
        else if(machine_en&&!state&&y>=70&&y<=110&&x>=595&&x<=635)//right
        begin
        r<=4'b0100;
        g<=4'b1100;
        b<=4'b0100;
        end
        else if(y>=70&&y<=110&&x>=595&&x<=635)
        begin
        r<=4'b0111;
        g<=4'b0011;
        b<=4'b0010;        
        end      
     
        else if(machine_en&&y>=115&&y<=155&&x>=505&&x<=545)//auto
        begin
        r<=4'b0100;
        g<=4'b1100;
        b<=4'b0100;
        end
        else if(y>=115&&y<=155&&x>=505&&x<=545)
        begin
        r<=4'b0111;
        g<=4'b0011;
        b<=4'b0010;        
        end        
        
        else if(machine_en&&state&&y>=115&&y<=155&&x>=550&&x<=590)//autoleft
        begin
        r<=4'b0100;
        g<=4'b1100;
        b<=4'b0100;
        end
        else if(y>=115&&y<=155&&x>=550&&x<=590)
        begin
        r<=4'b0111;
        g<=4'b0011;
        b<=4'b0010;        
        end   
        
        else if(machine_en&&state&&y>=115&&y<=155&&x>=595&&x<=635)//autoup
        begin
        r<=4'b0100;
        g<=4'b1100;
        b<=4'b0100;
        end
        else if(y>=115&&y<=155&&x>=595&&x<=635)
        begin
        r<=4'b0111;
        g<=4'b0011;
        b<=4'b0010;        
        end                        
//----------------------------------------------------------------------------------------------------------        
        else if(!knief_kind&&(
        (y==knief_y&&x>=knief_x&&x<=knief_x)
        ||(y==knief_y+1&&x>=knief_x-1&&x<=knief_x+1)
        ||(y==knief_y+2&&x>=knief_x-2&&x<=knief_x+2)
        ||(y==knief_y+3&&x>=knief_x-3&&x<=knief_x+3)
        ||(y==knief_y+4&&x>=knief_x-4&&x<=knief_x+4)
        ||(y==knief_y+5&&x>=knief_x-5&&x<=knief_x+5)
        ||(y==knief_y+6&&x>=knief_x-6&&x<=knief_x+6)
        ||(y==knief_y+7&&x>=knief_x-7&&x<=knief_x+7)
        ||(y==knief_y+8&&x>=knief_x-8&&x<=knief_x+8)
        ||(y==knief_y+9&&x>=knief_x-9&&x<=knief_x+9)
        ||(y==knief_y+10&&x>=knief_x-10&&x<=knief_x+10)
        ||(y==knief_y+11&&x>=knief_x-11&&x<=knief_x+11)
        ||(y==knief_y+12&&x>=knief_x-12&&x<=knief_x+12)
        ||(y==knief_y+13&&x>=knief_x-13&&x<=knief_x+13)
        ||(y==knief_y+14&&x>=knief_x-14&&x<=knief_x+14)
        ||(y==knief_y+15&&x>=knief_x-15&&x<=knief_x+15)
        ||(y==knief_y+16&&x>=knief_x-16&&x<=knief_x+16)
        ||(y==knief_y+17&&x>=knief_x-17&&x<=knief_x+17)
        ||(y==knief_y+18&&x>=knief_x-18&&x<=knief_x+18)
        ||(y==knief_y+19&&x>=knief_x-19&&x<=knief_x+19)
        ||(y==knief_y+20&&x>=knief_x-20&&x<=knief_x+20)
        ||(y==knief_y+21&&x>=knief_x-19&&x<=knief_x+20)
        ||(y==knief_y+22&&x>=knief_x-18&&x<=knief_x+20)
        ||(y==knief_y+23&&x>=knief_x-17&&x<=knief_x+20)
        ||(y==knief_y+24&&x>=knief_x-16&&x<=knief_x+20)
        ||(y==knief_y+25&&x>=knief_x-15&&x<=knief_x+20)
        ||(y==knief_y+26&&x>=knief_x-14&&x<=knief_x+20)
        ||(y==knief_y+27&&x>=knief_x-13&&x<=knief_x+20)
        ||(y==knief_y+28&&x>=knief_x-12&&x<=knief_x+20)
        ||(y==knief_y+29&&x>=knief_x-11&&x<=knief_x+20)
        ||(y==knief_y+30&&x>=knief_x-10&&x<=knief_x+20)
        ||(y==knief_y+31&&x>=knief_x-9&&x<=knief_x+20)
        ||(y==knief_y+32&&x>=knief_x-8&&x<=knief_x+20)
        ||(y==knief_y+33&&x>=knief_x-7&&x<=knief_x+20)
        ||(y==knief_y+34&&x>=knief_x-6&&x<=knief_x+20)
        ||(y==knief_y+35&&x>=knief_x-5&&x<=knief_x+20)
        ||(y>=36+knief_y&&y<=100+knief_y&&x>=knief_x-5&&x<=knief_x+20))
        )
            begin
            r<=4'b0000;
            g<=4'b0000;
            b<=4'b1111; 
            end
        else if(knief_kind&&(
        (y>=knief_y&&y<=35+knief_y&&x>=knief_x&&x<=knief_x+30)
        ||(y>=36+knief_y&&y<=100+knief_y&&x>=knief_x+5&&x<=knief_x+30)
        )
        )
            begin
            r<=4'b0000;
            g<=4'b0000;
            b<=4'b1111; 
            end
        else if(
            ((y==240||y==239)&&(obj1[x-20])&&(x>=20)&&x<=419)
            ||((y==241||y==238)&&(obj2[x-20])&&(x>=20)&&x<=419)
            ||((y==242||y==237)&&(obj3[x-20])&&(x>=20)&&x<=419)
            ||((y==243||y==236)&&(obj4[x-20])&&(x>=20)&&x<=419)
            ||((y==244||y==235)&&(obj5[x-20])&&(x>=20)&&x<=419)
            ||((y==245||y==234)&&(obj6[x-20])&&(x>=20)&&x<=419)
            ||((y==246||y==233)&&(obj7[x-20])&&(x>=20)&&x<=419)
            ||((y==247||y==232)&&(obj8[x-20])&&(x>=20)&&x<=419)
            ||((y==248||y==231)&&(obj9[x-20])&&(x>=20)&&x<=419)
            ||((y==249||y==230)&&(obj10[x-20])&&(x>=20)&&x<=419)
            ||((y==250||y==229)&&(obj11[x-20])&&(x>=20)&&x<=419)
            ||((y==251||y==228)&&(obj12[x-20])&&(x>=20)&&x<=419)
            ||((y==252||y==227)&&(obj13[x-20])&&(x>=20)&&x<=419)
            ||((y==253||y==226)&&(obj14[x-20])&&(x>=20)&&x<=419)
            ||((y==254||y==225)&&(obj15[x-20])&&(x>=20)&&x<=419)
            ||((y==255||y==224)&&(obj16[x-20])&&(x>=20)&&x<=419)
            ||((y==256||y==223)&&(obj17[x-20])&&(x>=20)&&x<=419)
            ||((y==257||y==222)&&(obj18[x-20])&&(x>=20)&&x<=419)
            ||((y==258||y==221)&&(obj19[x-20])&&(x>=20)&&x<=419)
            ||((y==259||y==220)&&(obj20[x-20])&&(x>=20)&&x<=419)
            ||((y==260||y==219)&&(obj21[x-20])&&(x>=20)&&x<=419)
            ||((y==261||y==218)&&(obj22[x-20])&&(x>=20)&&x<=419)
            ||((y==262||y==217)&&(obj23[x-20])&&(x>=20)&&x<=419)
            ||((y==263||y==216)&&(obj24[x-20])&&(x>=20)&&x<=419)
            ||((y==264||y==215)&&(obj25[x-20])&&(x>=20)&&x<=419)
            ||((y==265||y==214)&&(obj26[x-20])&&(x>=20)&&x<=419)
            ||((y==266||y==213)&&(obj27[x-20])&&(x>=20)&&x<=419)
            ||((y==267||y==212)&&(obj28[x-20])&&(x>=20)&&x<=419)
            ||((y==268||y==211)&&(obj29[x-20])&&(x>=20)&&x<=419)
            ||((y==269||y==210)&&(obj30[x-20])&&(x>=20)&&x<=419)
            ||((y==270||y==209)&&(obj31[x-20])&&(x>=20)&&x<=419)
            ||((y==271||y==208)&&(obj32[x-20])&&(x>=20)&&x<=419)
            ||((y==272||y==207)&&(obj33[x-20])&&(x>=20)&&x<=419)
            ||((y==273||y==206)&&(obj34[x-20])&&(x>=20)&&x<=419)
            ||((y==274||y==205)&&(obj35[x-20])&&(x>=20)&&x<=419)
            ||((y==275||y==204)&&(obj36[x-20])&&(x>=20)&&x<=419)
            ||((y==276||y==203)&&(obj37[x-20])&&(x>=20)&&x<=419)
            ||((y==277||y==202)&&(obj38[x-20])&&(x>=20)&&x<=419)
            ||((y==278||y==201)&&(obj39[x-20])&&(x>=20)&&x<=419)
            ||((y==279||y==200)&&(obj40[x-20])&&(x>=20)&&x<=419)
            ||((y==280||y==199)&&(obj41[x-20])&&(x>=20)&&x<=419)
            ||((y==281||y==198)&&(obj42[x-20])&&(x>=20)&&x<=419)
            ||((y==282||y==197)&&(obj43[x-20])&&(x>=20)&&x<=419)
            ||((y==283||y==196)&&(obj44[x-20])&&(x>=20)&&x<=419)
            ||((y==284||y==195)&&(obj45[x-20])&&(x>=20)&&x<=419)
            ||((y==285||y==194)&&(obj46[x-20])&&(x>=20)&&x<=419)
            ||((y==286||y==193)&&(obj47[x-20])&&(x>=20)&&x<=419)
            ||((y==287||y==192)&&(obj48[x-20])&&(x>=20)&&x<=419)
            ||((y==288||y==191)&&(obj49[x-20])&&(x>=20)&&x<=419)
            ||((y==289||y==190)&&(obj50[x-20])&&(x>=20)&&x<=419)
            ||((y==290||y==189)&&(obj51[x-20])&&(x>=20)&&x<=419)
            ||((y==291||y==188)&&(obj52[x-20])&&(x>=20)&&x<=419)
            ||((y==292||y==187)&&(obj53[x-20])&&(x>=20)&&x<=419)
            ||((y==293||y==186)&&(obj54[x-20])&&(x>=20)&&x<=419)
            ||((y==294||y==185)&&(obj55[x-20])&&(x>=20)&&x<=419)
            ||((y==295||y==184)&&(obj56[x-20])&&(x>=20)&&x<=419)
            ||((y==296||y==183)&&(obj57[x-20])&&(x>=20)&&x<=419)
            ||((y==297||y==182)&&(obj58[x-20])&&(x>=20)&&x<=419)
            ||((y==298||y==181)&&(obj59[x-20])&&(x>=20)&&x<=419)
            ||((y==299||y==180)&&(obj60[x-20])&&(x>=20)&&x<=419)
            ||((y==300||y==179)&&(obj61[x-20])&&(x>=20)&&x<=419)
            ||((y==301||y==178)&&(obj62[x-20])&&(x>=20)&&x<=419)
            ||((y==302||y==177)&&(obj63[x-20])&&(x>=20)&&x<=419)
            ||((y==303||y==176)&&(obj64[x-20])&&(x>=20)&&x<=419)
            ||((y==304||y==175)&&(obj65[x-20])&&(x>=20)&&x<=419)
            ||((y==305||y==174)&&(obj66[x-20])&&(x>=20)&&x<=419)
            ||((y==306||y==173)&&(obj67[x-20])&&(x>=20)&&x<=419)
            ||((y==307||y==172)&&(obj68[x-20])&&(x>=20)&&x<=419)
            ||((y==308||y==171)&&(obj69[x-20])&&(x>=20)&&x<=419)
            ||((y==309||y==170)&&(obj70[x-20])&&(x>=20)&&x<=419)
            )
            begin
            r<=4'b1111;
            g<=4'b1111;
            b<=4'b1111; 
            end
        else
            begin
            r<=4'b0000;
            g<=4'b0000;
            b<=4'b0000;
            end
    end
    end
endmodule